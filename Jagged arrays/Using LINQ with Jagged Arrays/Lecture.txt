Using LINQ with Jagged Arrays
Basic Concepts
Flattening a Jagged Array:
You can flatten a jagged array into a single sequence using SelectMany. This is useful when you want to perform operations on all elements regardless of their row.
Filtering and Selecting:
You can filter rows or elements within rows based on certain conditions using Where and Select.
Aggregation:
Operations like Sum, Average, Min, Max can be applied either on entire flattened array or on individual rows.
Example Program: LINQ Operations on a Jagged Array
Letâ€™s see an example where we use LINQ to perform various operations on a jagged array.

using System;
using System.Linq;


class LINQJaggedArrayExample
{
    static void Main()
    {
        // Declare and initialize a jagged array
        int[][] jaggedArray = {
            new int[] { 1, 2, 3 },
            new int[] { 4, 5, 6 },
            new int[] { 7, 8, 9, 10 }
        };


        // Flatten the jagged array and sum all elements
        int totalSum = jaggedArray.SelectMany(subArray => subArray).Sum();
        Console.WriteLine("Total Sum: " + totalSum);


        // Find the maximum element in the jagged array
        int maxElement = jaggedArray.SelectMany(subArray => subArray).Max();
        Console.WriteLine("Maximum Element: " + maxElement);


        // Filter arrays having more than 3 elements and select their first element
        var firstElements = jaggedArray.Where(subArray => subArray.Length > 3)
                                       .Select(subArray => subArray.First());
        Console.Write("First Elements of Long Rows: ");
        foreach(var element in firstElements)
        {
            Console.Write(element + " ");
        }
        Console.ReadKey();
    }
}


Explanation:
Flattening and Summing:
jaggedArray.SelectMany(subArray => subArray).Sum() flattens the jagged array and then sums all the elements.
Finding the Maximum Element:
SelectMany is used again to flatten the array, and Max finds the maximum element.
Filtering and Selecting Specific Elements:
The Where clause filters sub-arrays that have more than three elements.
Select then picks the first element from these filtered sub-arrays.
Advanced LINQ Queries
You can perform more complex queries like grouping, sorting, and conditional aggregations.
LINQ queries can be chained for more complex operations.
Conclusion
LINQ with jagged arrays in C# provides a powerful toolset for querying and manipulating complex data structures. It allows you to write more concise, readable, and maintainable code when dealing with jagged arrays. By leveraging LINQ's capabilities, you can easily perform a variety of operations on jagged arrays, from simple aggregations to complex data transformations.
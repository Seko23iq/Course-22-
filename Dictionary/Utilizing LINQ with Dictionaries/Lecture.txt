Utilizing LINQ with Dictionaries in C#
In this lesson, we'll delve into the integration of Language Integrated Query (LINQ) with dictionaries in C#. LINQ is a powerful feature in .NET that allows for expressive data querying and manipulation. When used with dictionaries, LINQ can enhance the capabilities of data handling significantly.

Objectives
Understand how LINQ can be used with Dictionary<TKey, TValue>.
Learn to perform various LINQ operations on dictionaries.
Apply LINQ queries to extract, transform, and aggregate data from dictionaries.
1. Introduction to LINQ with Dictionaries
LINQ (Language Integrated Query) can be used with any collection that implements the IEnumerable interface, which includes Dictionary<TKey, TValue>. It enables querying capabilities similar to SQL but for in-memory collections.

2. Basic LINQ Operations on Dictionaries
Selecting Items
You can project each item in the dictionary into a new form using Select.

Example: Transforming Dictionary Items
var fruitInfo = fruitBasket.Select(kpv => new { kpv.Key, kpv.Value });
foreach (var item in fruitInfo)
{
    Console.WriteLine($"Fruit: {item.Key}, Quantity: {item.Value}");
}


Filtering Items
Use Where to filter items based on a condition.

Example: Filtering Based on Value
var filteredFruit = fruitBasket.Where(kpv => kpv.Value > 3);
foreach (var item in filteredFruit)
{
    Console.WriteLine($"Fruit: {item.Key}, Quantity: {item.Value}");
}


3. Sorting Dictionary Items
You can sort items in a dictionary based on keys or values.

Example: Sorting by Value
var sortedByQuantity = fruitBasket.OrderBy(kpv => kpv.Value);
foreach (var item in sortedByQuantity)
{
    Console.WriteLine($"Fruit: {item.Key}, Quantity: {item.Value}");
}


4. Aggregating Data
LINQ provides aggregate functions such as Sum, Max, Min, and Average.

Example: Finding Total Quantity
int totalQuantity = fruitBasket.Sum(kpv => kpv.Value);
Console.WriteLine($"Total Quantity: {totalQuantity}");


5. Full Example Code
Combining all these LINQ operations, here's a comprehensive example:

using System;
using System.Collections.Generic;
using System.Linq;


class Program
{
    static void Main()
    {
        // Creating and initializing the dictionary
        Dictionary<string, int> fruitBasket = new Dictionary<string, int>
        {
            { "Apple", 5 },
            { "Banana", 2 },
            { "Orange", 7 }
        };


        // Using LINQ to transform items
        var fruitInfo = fruitBasket.Select(kpv => new { kpv.Key, kpv.Value });


        // Displaying the results
        Console.WriteLine("Transformed Items:");
        foreach (var item in fruitInfo)
        {
            Console.WriteLine($"Fruit: {item.Key}, Quantity: {item.Value}");
        }




        // Using LINQ to filter items
        var filteredFruit = fruitBasket.Where(kpv => kpv.Value > 3);


        Console.WriteLine("\nFiltered Items >3:");
        foreach (var item in filteredFruit)
        {
            Console.WriteLine($"Fruit: {item.Key}, Quantity: {item.Value}");
        }






        // Using LINQ to sort by value
        var sortedByQuantity = fruitBasket.OrderBy(kpv => kpv.Value);


        Console.WriteLine("\nSorted Items:");
        foreach (var item in sortedByQuantity)
        {
            Console.WriteLine($"Fruit: {item.Key}, Quantity: {item.Value}");
        }


        // Using LINQ to sort by value
        var sortedByQuantityDesc = fruitBasket.OrderByDescending(kpv => kpv.Value);


        Console.WriteLine("\nSorted Items Desc:");
        foreach (var item in sortedByQuantityDesc)
        {
            Console.WriteLine($"Fruit: {item.Key}, Quantity: {item.Value}");
        }

        // Using LINQ to aggregate data
        int totalQuantity = fruitBasket.Sum(kpv => kpv.Value);

        Console.WriteLine($"\nTotal Quantity: {totalQuantity}");


        Console.ReadKey();
    }
}

Conclusion
Using LINQ with dictionaries in C# opens up a world of possibilities for querying and manipulating data. It allows for concise and readable code, making operations like filtering, sorting, transforming, and aggregating data straightforward and efficient.